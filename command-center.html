<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMG COMMAND CENTER | SMART UTILITY</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@100;300;400;500;600;700;800;900&family=Outfit:wght@100;300;400;500;700;900&family=Space+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f2fe;
            --primary-rgb: 0, 242, 254;
            --accent: #8b5cf6;
            --bg: #0a0a0c;
            --panel-bg: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
            --text-muted: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Pretendard', 'Outfit', sans-serif; }
        body { background-color: var(--bg); color: var(--text); height: 100vh; overflow: hidden; display: flex; }

        #app {
            display: grid;
            grid-template-columns: 380px 1fr 400px;
            width: 100%;
            height: 100vh;
            padding: 24px;
            gap: 24px;
        }

        /* --- Global Panel Appearance --- */
        .glass-panel {
            background: var(--panel-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 28px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* --- Left: Master Scheduler (Multi-Day Logic) --- */
        .scheduler-panel { padding: 24px; }
        .tab-bar { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid var(--border); padding-bottom: 10px; }
        .tab { 
            padding: 8px 16px; border-radius: 12px; cursor: pointer; font-size: 0.85rem; color: var(--text-muted); transition: 0.3s;
        }
        .tab.active { background: var(--primary); color: #000; font-weight: 700; }

        .task-list { flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; padding-right: 5px; }
        .task-item {
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--border);
            padding: 16px;
            border-radius: 18px;
            display: flex; align-items: center; gap: 14px;
            transition: 0.2s;
            cursor: pointer;
        }
        .task-item:hover { border-color: var(--primary); background: rgba(0, 242, 254, 0.05); }
        .task-item.done { opacity: 0.4; }
        .task-item.done .check { background: var(--primary); color: #000; border-color: var(--primary); }
        .check { width: 22px; height: 22px; border: 2px solid var(--border); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 14px; }

        .add-btn {
            background: var(--primary); color: #000; border: none; padding: 14px; border-radius: 16px; font-weight: 700; cursor: pointer; margin-top: 15px; 
            transition: transform 0.2s;
        }
        .add-btn:hover { transform: scale(1.02); }

        /* --- Center: Smart Hub --- */
        .center-hub { display: flex; flex-direction: column; justify-content: space-between; align-items: center; padding-bottom: 30px; }
        .branding { text-align: center; margin-top: 20px; }
        .branding h1 { font-family: 'Outfit'; font-size: 5rem; font-weight: 900; line-height: 1; letter-spacing: -2px; }
        .branding p { font-size: 0.9rem; color: var(--primary); letter-spacing: 5px; font-family: 'Outfit'; margin-top: 10px; opacity: 0.7; }

        .quick-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; max-width: 600px; margin-bottom: 40px; }
        .action-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border);
            padding: 20px;
            border-radius: 20px;
            cursor: pointer;
            text-align: center;
            transition: 0.3s;
        }
        .action-card:hover { background: #fff; color: #000; transform: translateY(-3px); }
        .action-card i { font-size: 1.5rem; display: block; margin-bottom: 8px; font-style: normal; }
        .action-card span { font-size: 0.9rem; font-weight: 600; }

        .chat-input-wrapper {
            width: 100%; max-width: 800px;
            background: rgba(255,255,255,0.08);
            border-radius: 40px;
            padding: 8px 8px 8px 24px;
            display: flex; align-items: center; gap: 12px;
            border: 1px solid var(--border);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .chat-input-wrapper:focus-within { border-color: var(--primary); }
        #user-input { flex-grow: 1; background: transparent; border: none; outline: none; color: #fff; font-size: 1.1rem; }
        .send-btn { width: 48px; height: 48px; border-radius: 50%; background: var(--primary); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .send-btn:hover { box-shadow: 0 0 20px var(--primary); }

        /* --- Right: AI Conversation & Log --- */
        .ai-panel { padding: 0; }
        .chat-display { 
            flex-grow: 1; 
            padding: 24px;
            overflow-y: auto; 
            display: flex; flex-direction: column; gap: 16px;
            mask-image: linear-gradient(to top, black 90%, transparent 100%);
        }

        .bubble { max-width: 85%; padding: 14px 18px; border-radius: 20px; line-height: 1.6; font-size: 0.95rem; position: relative; }
        .bubble.ai { background: rgba(255,255,255,0.05); color: #fff; border-bottom-left-radius: 4px; border: 1px solid var(--border); }
        .bubble.user { background: var(--primary); color: #000; font-weight: 600; align-self: flex-end; border-bottom-right-radius: 4px; }
        
        .ai-status { padding: 20px 24px; background: rgba(255,255,255,0.02); border-top: 1px solid var(--border); font-size: 0.75rem; color: var(--text-muted); display: flex; justify-content: space-between; }
        .ai-status .dot { width: 8px; height: 8px; background: var(--primary); border-radius: 50%; display: inline-block; margin-right: 5px; box-shadow: 0 0 10px var(--primary); }

        /* Animation */
        @keyframes typing { 0% { opacity: 0.3; } 100% { opacity: 1; } }
        .typing { animation: typing 0.6s infinite alternate; }

    </style>
</head>
<body onload="init()">
    <main id="app">
        <!-- Multi-Day Scheduler -->
        <section class="glass-panel scheduler-panel">
            <h2 style="font-size: 1.1rem; margin-bottom: 15px; font-family: 'Outfit';">MISSION LOG</h2>
            <div class="tab-bar">
                <div class="tab active" onclick="switchDay('ì˜¤ëŠ˜')">ì˜¤ëŠ˜</div>
                <div class="tab" onclick="switchDay('ë‚´ì¼')">ë‚´ì¼</div>
                <div class="tab" onclick="switchDay('ì£¼ê°„')">ì£¼ê°„</div>
            </div>
            <div class="task-list" id="task-list">
                <!-- Data-driven tasks -->
            </div>
            <button class="add-btn" onclick="addNewTask()">ìƒˆë¡œìš´ ì¼ì • ì¶”ê°€</button>
        </section>

        <!-- Command Hub -->
        <section class="center-hub">
            <div class="branding">
                <p>CAPTAIN KIM MIN GYU</p>
                <h1>AI BASE</h1>
            </div>

            <div style="width: 100%; display:flex; flex-direction:column; align-items:center;">
                <div class="quick-actions">
                    <div class="action-card" onclick="handleQuickAction('ì¼ì • ë¸Œë¦¬í•‘ í•´ì¤˜')">
                        <i>ğŸ“…</i><span>ì¼ì • ë¸Œë¦¬í•‘</span>
                    </div>
                    <div class="action-card" onclick="handleQuickAction('ë³´ê³ ì„œ ì‘ì„±í•´ì£¼ê² ë‹ˆ?')">
                        <i>ğŸ“</i><span>ë³´ê³ ì„œ ìƒì„±</span>
                    </div>
                    <div class="action-card" onclick="handleQuickAction('í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ ì•Œë ¤ì¤˜')">
                        <i>âš¡</i><span>ì‹œìŠ¤í…œ ìƒíƒœ</span>
                    </div>
                    <div class="action-card" onclick="handleQuickAction('ì˜¤ëŠ˜ì˜ ë‰´ìŠ¤ ì•Œë ¤ì¤˜')">
                        <i>ğŸŒ</i><span>ë°ì¼ë¦¬ ë‰´ìŠ¤</span>
                    </div>
                </div>

                <div class="chat-input-wrapper">
                    <input type="text" id="user-input" placeholder="ë¹„ì„œì—ê²Œ ë§í•˜ë“¯ ëª…ë ¹í•´ë³´ì„¸ìš”..." autocomplete="off">
                    <button class="send-btn" onclick="sendMessage()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2.5"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                    </button>
                </div>
            </div>
            <div style="font-size: 0.75rem; color: var(--text-muted); font-family: 'Space Mono'; opacity:0.5;">KMG_OS STABLE v5.0</div>
        </section>

        <!-- Functional AI Response -->
        <section class="glass-panel ai-panel">
            <div class="chat-display" id="chat-display">
                <div class="bubble ai">
                    ì–´ì„œì˜¤ì‹­ì‹œì˜¤ ëŒ€ì¥ë‹˜. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?
                </div>
            </div>
            <div class="ai-status">
                <span><span class="dot"></span> AGENT BI-SEO: ONLINE</span>
                <span id="timestamp">21:04</span>
            </div>
        </section>
    </main>

    <script>
        // --- Data ---
        let currentTab = 'ì˜¤ëŠ˜';
        let data = JSON.parse(localStorage.getItem('kmg_v5_data')) || {
            'ì˜¤ëŠ˜': [
                { id: 1, text: "ì•ˆí‹°ê·¸ë˜ë¹„í‹° ëŒ€ì‹œë³´ë“œ ìµœì¢… ê²€ìˆ˜", done: true },
                { id: 2, text: "Elite AI ë§ˆìŠ¤í„° í´ë˜ìŠ¤ ì¤€ë¹„", done: false }
            ],
            'ë‚´ì¼': [
                { id: 3, text: "ë¸Œëœë“œ íŒ€ ì£¼ê°„ ë¯¸íŒ…", done: false }
            ],
            'ì£¼ê°„': [
                { id: 4, text: "ì‹ ê·œ AI ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš° ëŸ°ì¹­", done: false }
            ]
        };

        // --- Core Functions ---
        function init() {
            renderTasks();
            setInterval(() => {
                const now = new Date();
                document.getElementById('timestamp').textContent = now.getHours() + ":" + String(now.getMinutes()).padStart(2, '0');
            }, 60000);
            
            document.getElementById('user-input').addEventListener('keypress', (e) => {
                if(e.key === 'Enter') sendMessage();
            });
        }

        function switchDay(day) {
            currentTab = day;
            document.querySelectorAll('.tab').forEach(t => {
                t.classList.toggle('active', t.textContent === day);
            });
            renderTasks();
            addAiMessage(`${day} ì¼ì •ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤, ëŒ€ì¥ë‹˜.`);
        }

        function renderTasks() {
            const list = document.getElementById('task-list');
            list.innerHTML = '';
            data[currentTab].forEach(t => {
                const div = document.createElement('div');
                div.className = `task-item ${t.done ? 'done' : ''}`;
                div.onclick = () => toggleTask(t.id);
                div.innerHTML = `
                    <div class="check">${t.done ? 'âœ“' : ''}</div>
                    <span style="font-weight: 500;">${t.text}</span>
                `;
                list.appendChild(div);
            });
            localStorage.setItem('kmg_v5_data', JSON.stringify(data));
        }

        function toggleTask(id) {
            data[currentTab] = data[currentTab].map(t => t.id === id ? {...t, done: !t.done} : t);
            renderTasks();
        }

        function addNewTask() {
            const txt = prompt(`${currentTab} ì¼ì •ì„ ì…ë ¥í•˜ì„¸ìš”:`);
            if(txt) {
                data[currentTab].push({ id: Date.now(), text: txt, done: false });
                renderTasks();
                addAiMessage(`ìƒˆë¡œìš´ ${currentTab} ì¼ì • "${txt}"ë¥¼ ë“±ë¡í–ˆìŠµë‹ˆë‹¤.`);
            }
        }

        // --- Chat Logic ---
        function sendMessage() {
            const input = document.getElementById('user-input');
            const msg = input.value.trim();
            if(!msg) return;

            addUserMessage(msg);
            input.value = '';

            // AI Logic Simulation
            setTimeout(() => {
                respondTo(msg);
            }, 800);
        }

        function handleQuickAction(cmd) {
            addUserMessage(cmd);
            setTimeout(() => respondTo(cmd), 800);
        }

        function addUserMessage(msg) {
            const display = document.getElementById('chat-display');
            const div = document.createElement('div');
            div.className = 'bubble user';
            div.textContent = msg;
            display.appendChild(div);
            display.scrollTop = display.scrollHeight;
        }

        function addAiMessage(msg) {
            const display = document.getElementById('chat-display');
            const div = document.createElement('div');
            div.className = 'bubble ai';
            div.innerHTML = msg;
            display.appendChild(div);
            display.scrollTop = display.scrollHeight;
        }

        function respondTo(msg) {
            let response = "";
            if(msg.includes('ì¼ì •')) {
                const pending = data[currentTab].filter(t => !t.done).length;
                response = `í˜„ì¬ ${currentTab} ì¼ì • ì¤‘ ${pending}ê°œì˜ ì‘ì—…ì´ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤. ì¢Œì¸¡ ë¦¬ìŠ¤íŠ¸ë¥¼ ì°¸ê³ í•´ ì£¼ì‹­ì‹œì˜¤.`;
            } else if(msg.includes('ë³´ê³ ì„œ')) {
                response = "ëŒ€ì¥ë‹˜ì„ ìœ„í•œ ì£¼ê°„ ì„±ê³¼ ë³´ê³ ì„œ ì´ˆì•ˆ ìƒì„±ì„ ì‹œì‘í•©ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì‹­ì‹œì˜¤... <br><b>[ì‘ì—…ì¤‘...]</b>";
            } else if(msg.includes('ìƒíƒœ')) {
                response = "ëª¨ë“  AI ì—”ì§„ì´ ì •ìƒ ê°€ë™ ì¤‘ì…ë‹ˆë‹¤. (ë„¤íŠ¸ì›Œí¬ ì§€ì—°: 12ms, CPU ë¶€í•˜: 4%)";
            } else if(msg.includes('ë‰´ìŠ¤')) {
                response = "ì˜¤ëŠ˜ì˜ í•µì‹¬ í—¤ë“œë¼ì¸ì…ë‹ˆë‹¤: <br>1. AI ì—ì´ì „íŠ¸ ì‹œì¥ ê¸‰ì„±ì¥<br>2. ì•ˆí‹°ê·¸ë˜ë¹„í‹° ì‹ ê·œ ì—…ë°ì´íŠ¸ ë¦´ë¦¬ì¦ˆ";
            } else {
                response = `ë„¤, ëŒ€ì¥ë‹˜. "${msg}"ì— ëŒ€í•œ ì‘ì—…ì„ ì¦‰ì‹œ ê¸°ìˆ íŒ€ê³¼ ë¸Œëœë“œíŒ€ì— ì¸ê³„í•˜ì—¬ ìµœìƒì˜ ê²°ê³¼ë¥¼ ë„ì¶œí•˜ê² ìŠµë‹ˆë‹¤.`;
            }
            addAiMessage(response);
        }
    </script>
</body>
</html>
