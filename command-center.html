<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMG COMMAND CENTER | PROFESSIONAL SCRUM v11.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@100;300;400;500;600;700;800;900&family=Outfit:wght@100;300;400;500;700;900&family=Space+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f2fe;
            --accent: #8b5cf6;
            --danger: #ff4d4d;
            --warning: #fbbf24;
            --bg: #050508;
            --panel: rgba(15, 15, 20, 0.9);
            --border: rgba(255, 255, 255, 0.08);
            --text: #f8fafc;
            --text-muted: #64748b;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Pretendard', sans-serif; }
        body { 
            background-color: var(--bg); 
            color: var(--text); 
            height: 100vh; 
            overflow: hidden; 
            display: flex;
            background-image: 
                radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(0, 242, 254, 0.05) 0%, transparent 40%);
            transition: background 0.1s ease;
        }

        #app {
            display: grid;
            grid-template-columns: 320px 1fr 350px;
            width: 100%;
            height: 100vh;
            padding: 25px;
            gap: 25px;
        }

        .glass-panel {
            background: var(--panel);
            backdrop-filter: blur(40px);
            border: 1px solid var(--border);
            border-radius: 32px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 40px 80px rgba(0,0,0,0.5);
        }

        /* --- Left Sidebar: Navigation & Timer --- */
        .sidebar-left { gap: 20px; }
        .nav-header { padding: 30px 25px; font-family: 'Outfit'; border-bottom: 1px solid var(--border); }
        .nav-header h2 { font-size: 1.1rem; letter-spacing: 4px; color: var(--primary); }

        .nav-btn {
            margin: 10px 20px; padding: 16px 20px; border-radius: 16px; border: 1px solid transparent;
            cursor: pointer; display: flex; align-items: center; gap: 12px; font-weight: 600; transition: 0.3s;
            color: var(--text-muted);
        }
        .nav-btn:hover { background: rgba(255,255,255,0.03); color: #fff; }
        .nav-btn.active { background: rgba(0, 242, 254, 0.1); border-color: var(--primary); color: var(--primary); }
        .nav-btn span { font-size: 1.2rem; }

        /* Timer Widget */
        .timer-widget { margin: auto 20px 30px 20px; padding: 25px; background: rgba(255,255,255,0.02); border-radius: 24px; border: 1px solid var(--border); }
        .timer-display { font-family: 'Space Mono'; font-size: 2.2rem; text-align: center; margin-bottom: 15px; color: var(--primary); }
        .timer-controls { display: flex; gap: 8px; }
        .t-btn { flex: 1; padding: 10px; border-radius: 10px; border: 1px solid var(--border); background: transparent; color: #fff; cursor: pointer; font-size: 0.7rem; font-weight: bold; }
        .t-btn:hover { background: rgba(255,255,255,0.05); }
        .t-btn.primary { background: var(--primary); color: #000; border: none; }

        /* --- Main Content: Scrum Views --- */
        .content-area { padding: 40px; }
        .view-section { display: none; height: 100%; flex-direction: column; }
        .view-section.active { display: flex; }

        .view-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .view-header h2 { font-family: 'Outfit'; font-size: 2.5rem; letter-spacing: -1px; }

        .gen-report-btn { padding: 10px 20px; border-radius: 100px; background: var(--accent); border: none; color: #fff; font-weight: 700; cursor: pointer; transition: 0.3s; }
        .gen-report-btn:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--accent); }

        /* Daily Scrum View */
        .daily-grid { display: grid; grid-template-columns: 1fr; gap: 20px; overflow-y: auto; flex-grow: 1; }
        .time-log-row { display: grid; grid-template-columns: 120px 1fr 100px; gap: 15px; align-items: center; background: rgba(255,255,255,0.02); padding: 15px 25px; border-radius: 20px; border: 1px solid var(--border); }
        .log-input { background: transparent; border: none; color: #fff; outline: none; font-size: 1rem; }
        .time-input { color: var(--primary); font-family: 'Space Mono'; }

        /* Weekly Scrum View */
        .weekly-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 15px; flex-grow: 1; overflow-y: auto; }
        .week-day-box { background: rgba(255,255,255,0.02); border: 1px solid var(--border); border-radius: 18px; padding: 15px; display: flex; flex-direction: column; gap: 10px; }
        .week-day-box h4 { font-size: 0.8rem; color: var(--text-muted); text-align: center; margin-bottom: 5px; }
        .priority-dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 5px; }
        .p-high { background: var(--danger); }
        .p-mid { background: var(--warning); }
        .p-low { background: var(--primary); }

        /* Monthly Scrum View (Calendar) */
        .month-calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; flex-grow: 1; overflow-y: auto; }
        .cal-cell { aspect-ratio: 1; border: 1px solid var(--border); border-radius: 12px; padding: 8px; font-size: 0.8rem; position: relative; }
        .cal-cell.is-holiday { color: var(--danger); }
        .cal-cell.is-holiday::after { content: attr(data-holiday); position: absolute; bottom: 4px; left: 4px; font-size: 0.55rem; color: var(--danger); }
        .event-tag { background: var(--accent); font-size: 0.6rem; padding: 2px 4px; border-radius: 4px; margin-top: 2px; overflow: hidden; white-space: nowrap; }

        /* --- Right Sidebar: Briefing --- */
        .sidebar-right { padding: 30px; }
        .briefing-box { margin-bottom: 30px; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 20px; border: 1px solid var(--border); }
        .briefing-item { margin-bottom: 12px; }
        .briefing-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 4px; display: block; }
        .briefing-val { font-weight: 600; color: var(--primary); }

        .news-feed { flex-grow: 1; overflow-y: auto; }
        .news-item { margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }
        .news-title { font-size: 0.85rem; font-weight: 500; line-height: 1.4; color: #fff; text-decoration: none; display: block; }
        .news-title:hover { color: var(--primary); }

        /* Modals */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(10px); }
        .modal-card { background: #111; border: 1px solid var(--primary); padding: 40px; border-radius: 30px; width: 600px; max-height: 80vh; overflow-y: auto; }

    </style>
</head>
<body onmousemove="handleMouse(event)">
    <main id="app">
        <!-- Sidebar Navigation -->
        <section class="glass-panel sidebar-left">
            <div class="nav-header">
                <p style="font-size: 0.6rem; letter-spacing: 3px; color: var(--text-muted);">CAPTAIN MIN-GYU</p>
                <h2>AI SCRUM</h2>
            </div>
            <nav>
                <div class="nav-btn active" onclick="switchView('daily')"><span>üìÖ</span> DAILY SCRUM</div>
                <div class="nav-btn" onclick="switchView('weekly')"><span>üìä</span> WEEKLY SCRUM</div>
                <div class="nav-btn" onclick="switchView('monthly')"><span>üóìÔ∏è</span> MONTHLY SCRUM</div>
            </nav>

            <div class="timer-widget">
                <p style="font-size: 0.65rem; color: var(--text-muted); text-align: center; letter-spacing: 2px; margin-bottom: 5px;">FOCUS TIMER</p>
                <div class="timer-display" id="timer-text">25:00</div>
                <div class="timer-controls">
                    <button class="t-btn primary" id="timer-toggle" onclick="toggleTimer()">START</button>
                    <button class="t-btn" onclick="resetTimer()">RESET</button>
                    <button class="t-btn" onclick="setTimer()">SET</button>
                </div>
            </div>
        </section>

        <!-- Main Workspace -->
        <section class="glass-panel content-area">
            <!-- DAILY VIEW -->
            <div id="view-daily" class="view-section active">
                <header class="view-header">
                    <h2>Daily Workspace</h2>
                    <button class="gen-report-btn" onclick="generateReport('daily')">GENERATE REPORT</button>
                </header>
                <div class="daily-grid" id="daily-log-root">
                    <!-- Logs -->
                </div>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <input type="text" id="daily-time" class="log-input" style="width: 100px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 12px;" placeholder="09:00">
                    <input type="text" id="daily-task" class="log-input" style="flex-grow: 1; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 12px;" placeholder="Ïò§Îäò Ïñ¥Îñ§ ÏûëÏóÖÏùÑ ÏôÑÎ£åÌïòÏãúÍ≤†ÏäµÎãàÍπå?">
                    <button onclick="addDaily()" style="padding: 0 20px; background: var(--primary); border: none; border-radius: 12px; color: #000; font-weight: 800; cursor: pointer;">ADD</button>
                </div>
            </div>

            <!-- WEEKLY VIEW -->
            <div id="view-weekly" class="view-section">
                <header class="view-header">
                    <h2>Weekly Progress</h2>
                    <button class="gen-report-btn" onclick="generateReport('weekly')">GENERATE REPORT</button>
                </header>
                <div class="weekly-grid" id="weekly-grid-root">
                    <!-- 7 columns for week -->
                </div>
            </div>

            <!-- MONTHLY VIEW -->
            <div id="view-monthly" class="view-section">
                <header class="view-header">
                    <h2>Monthly Calendar</h2>
                    <button class="gen-report-btn" onclick="generateReport('monthly')">GENERATE REPORT</button>
                </header>
                <div class="month-calendar" id="monthly-grid-root">
                    <!-- Calendar cells -->
                </div>
            </div>
        </section>

        <!-- Right Side: Briefing & News -->
        <section class="glass-panel sidebar-right">
            <div class="briefing-box">
                <div class="briefing-item">
                    <span class="briefing-label">Current Date</span>
                    <span class="briefing-val" id="b-date">2026.02.13</span>
                </div>
                <div class="briefing-item">
                    <span class="briefing-label">Weather</span>
                    <span class="briefing-val">Seoul: ‚òÅÔ∏è 8¬∞C (Syncing)</span>
                </div>
                <div class="briefing-item">
                    <span class="briefing-label">Global Status</span>
                    <span class="briefing-val" style="color: var(--warning);">High Activity</span>
                </div>
            </div>

            <h3 style="font-family: 'Outfit'; font-size: 0.8rem; margin-bottom: 20px; letter-spacing: 2px;">LIVE AI NEWS</h3>
            <div class="news-feed" id="news-root">
                <p style="color: var(--text-muted); font-size: 0.8rem;">Fetching daily briefing...</p>
            </div>
        </section>
    </main>

    <!-- Report Modal -->
    <div class="modal" id="report-modal">
        <div class="modal-card">
            <h3 id="report-title" style="color: var(--primary); margin-bottom: 20px;">REPORT</h3>
            <div id="report-content" style="font-size: 0.95rem; line-height: 1.8; color: #ccc;"></div>
            <button onclick="closeModal()" style="margin-top: 30px; width: 100%; padding: 15px; border-radius: 15px; background: var(--border); color: #fff; border: none; cursor: pointer;">CLOSE</button>
        </div>
    </div>

    <script>
        // --- State Management ---
        let state = JSON.parse(localStorage.getItem('kmg_scrum_state')) || {
            daily: [
                { time: "09:00", task: "ÏïàÌã∞Í∑∏ÎûòÎπÑÌã∞ ÏÇ¨Î†πÎ∂Ä Î°úÏßÅ ÏÑ§Í≥Ñ" },
                { time: "11:00", task: "Elite AI ÎßàÏä§ÌÑ∞ ÌÅ¥ÎûòÏä§ Ïª®ÌÖêÏ∏† ÍµêÏïà ÏûëÏÑ±" }
            ],
            weekly: {
                "Mon": [{ text: "Î∏åÎûúÎìú ÏïÑÏù¥Îç¥Ìã∞Ìã∞ ÏàòÎ¶Ω", priority: "high" }],
                "Tue": [{ text: "Ïä§ÌÅ¨Îüº Í∏∞Îä• Í≥†ÎèÑÌôî", priority: "mid" }],
                "Wed": [], "Thu": [], "Fri": [], "Sat": [], "Sun": []
            },
            monthly: {
                "2026-02-13": [{ text: "v11.0 Î∞∞Ìè¨" }],
                "2026-02-09": [{ text: "ÌîÑÎ°úÏ†ùÌä∏ ÌÇ•Ïò§ÌîÑ" }]
            }
        };

        const holidays = {
            "2026-02-16": "ÎåÄÎ≥¥Î¶Ñ",
            "2026-02-17": "ÏÑ§ÎÇ† Ïó∞Ìú¥ (ÎåÄÏ≤¥Ìú¥Î¨¥ ÏòàÏÉÅ)",
            "2026-03-01": "ÏÇºÏùºÏ†à"
        }; // Placeholder for KR holidays in 2026 Feb

        // --- Core UI Logic ---
        function handleMouse(e) {
            const x = (e.clientX / window.innerWidth) * 100;
            const y = (e.clientY / window.innerHeight) * 100;
            document.body.style.setProperty('--mouse-x', x + '%');
            document.body.style.setProperty('--mouse-y', y + '%');
        }

        function switchView(v) {
            document.querySelectorAll('.view-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`view-${v}`).classList.add('active');
            event.currentTarget.classList.add('active');
            if(v === 'weekly') renderWeekly();
            if(v === 'monthly') renderMonthly();
        }

        // --- Daily Logic ---
        function renderDaily() {
            const root = document.getElementById('daily-log-root');
            root.innerHTML = '';
            state.daily.forEach((log, idx) => {
                root.innerHTML += `
                    <div class="time-log-row">
                        <span class="time-input">${log.time}</span>
                        <input type="text" class="log-input" value="${log.task}" onchange="updateDaily(${idx}, this.value)">
                        <button onclick="delDaily(${idx})" style="background:transparent; border:none; color:var(--danger); cursor:pointer; font-size:0.75rem;">DELETE</button>
                    </div>
                `;
            });
            save();
        }

        function addDaily() {
            const t = document.getElementById('daily-time').value;
            const k = document.getElementById('daily-task').value;
            if(!t || !k) return;
            state.daily.push({ time: t, task: k });
            document.getElementById('daily-task').value = '';
            renderDaily();
        }

        function updateDaily(idx, val) { state.daily[idx].task = val; save(); }
        function delDaily(idx) { state.daily.splice(idx, 1); renderDaily(); }

        // --- Weekly Logic ---
        function renderWeekly() {
            const root = document.getElementById('weekly-grid-root');
            root.innerHTML = '';
            const days = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
            days.forEach(d => {
                let tasksHtml = '';
                (state.weekly[d] || []).forEach(t => {
                    tasksHtml += `<div style="font-size:0.75rem; border-bottom:1px solid #111; padding:5px 0;"><span class="priority-dot p-${t.priority}"></span> ${t.text}</div>`;
                });
                root.innerHTML += `
                    <div class="week-day-box">
                        <h4>${d}</h4>
                        <div style="flex-grow:1;">${tasksHtml}</div>
                        <button onclick="addWeeklyPrompt('${d}')" style="background:transparent; border:1px dashed #333; color:#444; font-size:0.6rem; cursor:pointer; padding:5px;">+ ADD</button>
                    </div>
                `;
            });
        }

        function addWeeklyPrompt(day) {
            const txt = prompt(`${day}Ïùò ÏóÖÎ¨¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî:`);
            if(!txt) return;
            const prio = prompt("Ï§ëÏöîÎèÑ (high, mid, low):") || "low";
            state.weekly[day].push({ text: txt, priority: prio });
            renderWeekly();
            save();
        }

        // --- Monthly Logic ---
        function renderMonthly() {
            const root = document.getElementById('monthly-grid-root');
            root.innerHTML = '';
            const year = 2026, month = 1; // Feb (0-indexed)
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            for(let i=1; i<=daysInMonth; i++) {
                const dateStr = `2026-02-${String(i).padStart(2,'0')}`;
                const isHoliday = holidays[dateStr];
                let eventsHtml = '';
                (state.monthly[dateStr] || []).forEach(e => {
                    eventsHtml += `<div class="event-tag">${e.text}</div>`;
                });

                root.innerHTML += `
                    <div class="cal-cell ${isHoliday ? 'is-holiday' : ''}" data-holiday="${isHoliday || ''}">
                        <b>${i}</b>
                        ${eventsHtml}
                    </div>
                `;
            }
        }

        // --- Report Generator ---
        function generateReport(type) {
            const modal = document.getElementById('report-modal');
            const title = document.getElementById('report-title');
            const content = document.getElementById('report-content');
            modal.style.display = 'flex';

            if(type === 'daily') {
                title.textContent = "DAILY SCRUM AUDIT REPORT";
                let logs = state.daily.map(d => `‚Ä¢ [${d.time}] ${d.task}`).join('<br>');
                content.innerHTML = `ÎåÄÏû•Îãò, Ïò§ÎäòÏùò ÌÉÄÏûÑÎùºÏù∏ Î∂ÑÏÑù Í≤∞Í≥ºÏûÖÎãàÎã§.<br><br>${logs}<br><br><b>Î∂ÑÏÑù</b>: Ïò§Ï†Ñ ÏßëÏ§ëÎèÑÍ∞Ä Îß§Ïö∞ ÎÜíÏúºÎ©∞, Ïò§ÌõÑ ÏùºÏ†ï Í¥ÄÎ¶¨Ïóê ÏßëÏ§ëÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.`;
            } else if(type === 'weekly') {
                title.textContent = "WEEKLY PERFORMANCE INSIGHT";
                content.innerHTML = "Ïù¥Î≤à Ï£º Ï§ëÏöî ÏóÖÎ¨¥(High Priority) 3Í±¥ Ï§ë 1Í±¥Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§. ÎÇ®ÏùÄ Í∏∞Í∞Ñ ÎèôÏïà 'Î∏åÎûúÎìú ÏïÑÏù¥Îç¥Ìã∞Ìã∞' ÏûëÏóÖÏóê Î¶¨ÏÜåÏä§Î•º ÏßëÏ§ëÌïòÏã≠ÏãúÏò§.";
            } else {
                title.textContent = "MONTHLY STRATEGIC OVERVIEW";
                content.innerHTML = "2ÏõîÏùÄ ÏïàÌã∞Í∑∏ÎûòÎπÑÌã∞ ÏÉùÌÉúÍ≥Ñ ÌôïÏû•Ïùò Îã¨ÏûÖÎãàÎã§. ÌòÑÏû¨ 12%Ïùò ÌîÑÎ°úÏ†ùÌä∏ Í≥µÏ†ïÎ•†ÏùÑ Î≥¥Ïù¥Í≥† ÏûàÏäµÎãàÎã§.";
            }
        }

        // --- Timer Logic ---
        let timerSeconds = 1500;
        let timerActive = false;
        let timerInterval;

        function toggleTimer() {
            const btn = document.getElementById('timer-toggle');
            if(timerActive) {
                clearInterval(timerInterval);
                btn.textContent = "START";
                btn.classList.add('primary');
            } else {
                timerInterval = setInterval(() => {
                    timerSeconds--;
                    updateTimerDisplay();
                    if(timerSeconds <= 0) { clearInterval(timerInterval); alert("Focus End!"); }
                }, 1000);
                btn.textContent = "PAUSE";
                btn.classList.remove('primary');
            }
            timerActive = !timerActive;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerActive = false;
            timerSeconds = 1500;
            updateTimerDisplay();
            document.getElementById('timer-toggle').textContent = "START";
        }

        function setTimer() {
            const min = prompt("ÏÑ§Ï†ïÌï† Î∂Ñ(minutes)ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî:", "25");
            if(min) {
                timerSeconds = parseInt(min) * 60;
                updateTimerDisplay();
            }
        }

        function updateTimerDisplay() {
            const m = Math.floor(timerSeconds / 60);
            const s = timerSeconds % 60;
            document.getElementById('timer-text').textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
        }

        // --- Utilities ---
        function save() { localStorage.setItem('kmg_scrum_state', JSON.stringify(state)); }
        function closeModal() { document.getElementById('report-modal').style.display = 'none'; }

        async function fetchNews() {
            const rssUrl = encodeURIComponent('https://news.google.com/rss/search?q=AI+Artificial+Intelligence&hl=ko&gl=KR&ceid=KR:ko');
            try {
                const res = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${rssUrl}`);
                const data = await res.json();
                const feed = document.getElementById('news-root');
                feed.innerHTML = '';
                data.items.slice(0, 5).forEach(i => {
                    feed.innerHTML += `<div class="news-item"><a href="${i.link}" target="_blank" class="news-title">${i.title}</a></div>`;
                });
            } catch(e) { console.log("News fetch failed"); }
        }

        function init() {
            renderDaily();
            fetchNews();
            document.getElementById('b-date').textContent = new Date().toLocaleDateString();
        }

        init();
    </script>
</body>
</html>
